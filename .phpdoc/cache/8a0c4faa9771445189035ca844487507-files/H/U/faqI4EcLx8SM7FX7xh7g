1747857201
8a0c4faa9771445189035ca844487507-phpdoc%3A4d14d13304176b0300aa9af4d00042e5-fe3e3978d06831add8142db2a4368ea4
s:18168:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjE3OiJWaWV3Q2F0YWxvZ3VlLnBocCI7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lc3BhY2VzIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGluY2x1ZGVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGZ1bmN0aW9ucyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY2xhc3NlcyI7YTowOnt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbnRlcmZhY2VzIjthOjA6e31zOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHRyYWl0cyI7YTowOnt9czo0MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBlbnVtcyI7YTowOnt9czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBoYXNoIjtzOjMyOiJmZTNlMzk3OGQwNjgzMWFkZDgxNDJkYjJhNDM2OGVhNCI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjIyOiJ2aWV3L1ZpZXdDYXRhbG9ndWUucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxMDc5MToiPD9waHANCi8qKg0KICogUHJvZHVjdCBDYXRhbG9nIFZpZXcNCiAqIA0KICogRGlzcGxheXMgdGhlIHByb2R1Y3QgY2F0YWxvZyB3aXRoIGZpbHRlcmluZyBjYXBhYmlsaXRpZXMgZm9yIGJpa2VzDQogKiBJbmNsdWRpbmcgYnJhbmQsIGNhdGVnb3J5LCBtb2RlbCB5ZWFyIGFuZCBwcmljZSByYW5nZSBmaWx0ZXJzDQogKiANCiAqIEBwYWNrYWdlIEJpa2VTdG9yZVxWaWV3cw0KICogQGF1dGhvciANCiAqIEB2ZXJzaW9uIDEuMA0KICovDQoNCi8vIEluY2x1ZGUgaGVhZGVyDQppbmNsdWRlX29uY2UoJ3d3dy9oZWFkZXIuaW5jLnBocCcpOw0KDQovKioNCiAqIEphdmFTY3JpcHQgRnVuY3Rpb25zIERvY3VtZW50YXRpb24NCiAqIA0KICogQGZ1bmN0aW9uIGxvYWRGaWx0ZXJzDQogKiBGZXRjaGVzIGFuZCBwb3B1bGF0ZXMgZmlsdGVyIG9wdGlvbnMgZnJvbSB0aGUgQVBJDQogKiAtIEJyYW5kcyBkcm9wZG93bg0KICogLSBDYXRlZ29yaWVzIGRyb3Bkb3duDQogKiAtIE1vZGVsIHllYXJzIGRyb3Bkb3duDQogKiANCiAqIEBmdW5jdGlvbiBsb2FkUHJvZHVjdHMNCiAqIEZldGNoZXMgYW5kIGRpc3BsYXlzIHByb2R1Y3RzIGJhc2VkIG9uIHNlbGVjdGVkIGZpbHRlcnMNCiAqIC0gSGFuZGxlcyBwcmljZSBmb3JtYXR0aW5nDQogKiAtIERpc3BsYXlzIGxvYWRpbmcgc3RhdGUNCiAqIC0gUmVuZGVycyBwcm9kdWN0IGNhcmRzDQogKiAtIEhhbmRsZXMgZXJyb3Igc3RhdGVzDQogKiANCiAqIEBldmVudCBET01Db250ZW50TG9hZGVkDQogKiBJbml0aWFsaXplcyB0aGUgcGFnZToNCiAqIC0gTG9hZHMgaW5pdGlhbCBmaWx0ZXJzDQogKiAtIExvYWRzIGluaXRpYWwgcHJvZHVjdHMNCiAqIC0gU2V0cyB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGZpbHRlciBjaGFuZ2VzDQogKiAtIFNldHMgdXAgaW5wdXQgdmFsaWRhdGlvbiBmb3IgcHJpY2UgZmllbGRzDQogKi8NCj8+DQoNCjxkaXYgY2xhc3M9ImNvbnRhaW5lciBteS01Ij4NCiAgICA8aDEgY2xhc3M9InRleHQtY2VudGVyIGZ3LWJvbGQgbWItNCI+QmlrZXM8L2gxPg0KDQogICAgPCEtLSBGaWx0cmVzIC0tPg0KICAgIDxkaXYgY2xhc3M9ImNhcmQgc2hhZG93LXNtIHAtNCBiZy1saWdodCBtYi00Ij4NCiAgICAgICAgPGZvcm0gaWQ9ImZpbHRlci1mb3JtIiBjbGFzcz0icm93IGctMyI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtMyI+DQogICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYnJhbmQiIGNsYXNzPSJmb3JtLWxhYmVsIGZ3LWJvbGQiPkJyYW5kPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJicmFuZCIgbmFtZT0iYnJhbmQiIGNsYXNzPSJmb3JtLXNlbGVjdCI+DQogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+QWxsPC9vcHRpb24+DQogICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC0zIj4NCiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJjYXRlZ29yeSIgY2xhc3M9ImZvcm0tbGFiZWwgZnctYm9sZCI+Q2F0ZWdvcnk8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImNhdGVnb3J5IiBuYW1lPSJjYXRlZ29yeSIgY2xhc3M9ImZvcm0tc2VsZWN0Ij4NCiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj5BbGw8L29wdGlvbj4NCiAgICAgICAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTIiPg0KICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9Im1vZGVsLXllYXIiIGNsYXNzPSJmb3JtLWxhYmVsIGZ3LWJvbGQiPk1vZGVsIFllYXI8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9Im1vZGVsLXllYXIiIG5hbWU9Im1vZGVsLXllYXIiIGNsYXNzPSJmb3JtLXNlbGVjdCI+DQogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+QWxsPC9vcHRpb24+DQogICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC00Ij4NCiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwgZnctYm9sZCI+UHJpY2U8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIiPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im1pbi1wcmljZSIgbmFtZT0ibWluLXByaWNlIiBjbGFzcz0iZm9ybS1jb250cm9sIG1lLTIiIHBsYWNlaG9sZGVyPSJNaW4iIHBhdHRlcm49IlswLTldKyhbLC5dWzAtOV17MSwyfSk/IiBpbnB1dG1vZGU9ImRlY2ltYWwiPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im1heC1wcmljZSIgbmFtZT0ibWF4LXByaWNlIiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0iTWF4IiBwYXR0ZXJuPSJbMC05XSsoWywuXVswLTldezEsMn0pPyIgaW5wdXRtb2RlPSJkZWNpbWFsIj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Zvcm0+DQogICAgPC9kaXY+DQoNCiAgICA8ZGl2IGlkPSJwcm9kdWN0LWNvbnRhaW5lciIgY2xhc3M9InJvdyBnLTQiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtMTIgdGV4dC1jZW50ZXIiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3Bpbm5lci1ib3JkZXIgdGV4dC1zdWNjZXNzIiByb2xlPSJzdGF0dXMiPg0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2aXN1YWxseS1oaWRkZW4iPkxvYWRpbmcuLi48L3NwYW4+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxwPkxvYWRpbmcgcHJvZHVjdHMuLi48L3A+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQoNCjxzY3JpcHQ+DQogICAgLyoqDQogICAgICogTG9hZHMgZmlsdGVyIG9wdGlvbnMgZnJvbSB0aGUgQVBJDQogICAgICogDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICogQHRocm93cyB7RXJyb3J9IFdoZW4gQVBJIHJlcXVlc3QgZmFpbHMNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBsb2FkRmlsdGVycygpIHsNCiAgICAgICAgZmV0Y2goJy9TQUU0MDEvYXBpL0FwaVByb2R1Y3RzLnBocD9hY3Rpb249Z2V0ZmlsdGVycycpDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciByw6lzZWF1OiAnICsgcmVzcG9uc2Uuc3RhdHVzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5icmFuZHMpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnJhbmRTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJhbmQnKTsNCiAgICAgICAgICAgICAgICAgICAgZGF0YS5icmFuZHMuZm9yRWFjaChicmFuZCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGJyYW5kLmlkOw0KICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gYnJhbmQubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5kU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmIChkYXRhLmNhdGVnb3JpZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnknKTsNCiAgICAgICAgICAgICAgICAgICAgZGF0YS5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBjYXRlZ29yeS5pZDsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGNhdGVnb3J5Lm5hbWU7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tb2RlbF95ZWFycykgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB5ZWFyU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGVsLXllYXInKTsNCiAgICAgICAgICAgICAgICAgICAgZGF0YS5tb2RlbF95ZWFycy5mb3JFYWNoKHllYXIgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSB5ZWFyOw0KICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0geWVhcjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHllYXJTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlcyBmaWx0cmVzOicsIGVycm9yKSk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogTG9hZHMgcHJvZHVjdHMgYmFzZWQgb24gc2VsZWN0ZWQgZmlsdGVycw0KICAgICAqIA0KICAgICAqIEByZXR1cm5zIHt2b2lkfQ0KICAgICAqIEB0aHJvd3Mge0Vycm9yfSBXaGVuIEFQSSByZXF1ZXN0IGZhaWxzDQogICAgICovDQogICAgZnVuY3Rpb24gbG9hZFByb2R1Y3RzKCkgew0KICAgICAgICBjb25zdCBicmFuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicmFuZCcpLnZhbHVlOw0KICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yeScpLnZhbHVlOw0KICAgICAgICBjb25zdCBtb2RlbFllYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kZWwteWVhcicpLnZhbHVlOw0KDQogICAgICAgIGxldCBtaW5QcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW4tcHJpY2UnKS52YWx1ZTsNCiAgICAgICAgbGV0IG1heFByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21heC1wcmljZScpLnZhbHVlOw0KDQogICAgICAgIGlmIChtaW5QcmljZSkgbWluUHJpY2UgPSBtaW5QcmljZS5yZXBsYWNlKCcsJywgJy4nKTsNCiAgICAgICAgaWYgKG1heFByaWNlKSBtYXhQcmljZSA9IG1heFByaWNlLnJlcGxhY2UoJywnLCAnLicpOw0KDQogICAgICAgIGNvbnNvbGUubG9nKCJGaWx0cmVzIGFwcGxpcXXDqXM6Iiwgew0KICAgICAgICAgICAgYnJhbmQ6IGJyYW5kLA0KICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LA0KICAgICAgICAgICAgbW9kZWxfeWVhcjogbW9kZWxZZWFyLA0KICAgICAgICAgICAgbWluX3ByaWNlOiBtaW5QcmljZSwNCiAgICAgICAgICAgIG1heF9wcmljZTogbWF4UHJpY2UNCiAgICAgICAgfSk7DQoNCiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOw0KICAgICAgICANCiAgICAgICAgcGFyYW1zLmFwcGVuZCgnYWN0aW9uJywgJ2dldGFsbCcpOw0KDQogICAgICAgIGlmIChicmFuZCkgcGFyYW1zLmFwcGVuZCgnYnJhbmQnLCBicmFuZCk7DQogICAgICAgIGlmIChjYXRlZ29yeSkgcGFyYW1zLmFwcGVuZCgnY2F0ZWdvcnknLCBjYXRlZ29yeSk7DQogICAgICAgIGlmIChtb2RlbFllYXIpIHBhcmFtcy5hcHBlbmQoJ21vZGVsX3llYXInLCBtb2RlbFllYXIpOw0KICAgICAgICBpZiAobWluUHJpY2UpIHBhcmFtcy5hcHBlbmQoJ21pbl9wcmljZScsIG1pblByaWNlKTsNCiAgICAgICAgaWYgKG1heFByaWNlKSBwYXJhbXMuYXBwZW5kKCdtYXhfcHJpY2UnLCBtYXhQcmljZSk7DQogICAgICAgIA0KICAgICAgICBjb25zb2xlLmxvZygiVVJMIGRlIHJlcXXDqnRlOiIsIGAvU0FFNDAxL2FwaS9BcGlQcm9kdWN0cy5waHA/JHtwYXJhbXMudG9TdHJpbmcoKX1gKTsNCg0KICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZHVjdC1jb250YWluZXInKTsNCiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGANCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC0xMiB0ZXh0LWNlbnRlciI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3Bpbm5lci1ib3JkZXIgdGV4dC1zdWNjZXNzIiByb2xlPSJzdGF0dXMiPjwvZGl2Pg0KICAgICAgICAgICAgICAgIDxwPkxvYWRpbmcgcHJvZHVjdHMuLi48L3A+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgYDsNCg0KICAgICAgICBmZXRjaChgL1NBRTQwMS9hcGkvQXBpUHJvZHVjdHMucGhwPyR7cGFyYW1zLnRvU3RyaW5nKCl9YCkNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHLDqXNlYXU6ICcgKyByZXNwb25zZS5zdGF0dXMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsNCg0KICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImNvbC0xMiB0ZXh0LWNlbnRlciI+PHA+Tm8gcHJvZHVjdHMgZm91bmQuPC9wPjwvZGl2Pic7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2gocHJvZHVjdCA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RIdG1sID0gYA0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTQgbWItNCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBzaGFkb3ctc20gaC0xMDAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iL1NBRTQwMS93d3cvaW1hZ2VzL3ZlbG9zcG9ydC5qcGciIGNsYXNzPSJjYXJkLWltZy10b3AiIGFsdD0iJHtwcm9kdWN0Lm5hbWUgfHwgJ05vIG5hbWUnfSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSB0ZXh0LWNlbnRlciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9ImNhcmQtdGl0bGUgdGV4dC10cnVuY2F0ZSI+JHtwcm9kdWN0LnByb2R1Y3RfbmFtZSB8fCAnTm8gbmFtZSd9PC9oNT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJ0ZXh0LW11dGVkIG1iLTEiPiR7cHJvZHVjdC5icmFuZF9uYW1lIHx8ICdVbmtub3duIGJyYW5kJ30gLSAke3Byb2R1Y3QuY2F0ZWdvcnlfbmFtZSB8fCAnVW5rbm93biBjYXRlZ29yeSd9PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImNhcmQtdGV4dCI+WWVhcjogJHtwcm9kdWN0Lm1vZGVsX3llYXIgfHwgJ04vQSd9PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImZ3LWJvbGQgdGV4dC1zdWNjZXNzIj4ke3Byb2R1Y3QubGlzdF9wcmljZSAhPT0gdW5kZWZpbmVkICYmIHByb2R1Y3QubGlzdF9wcmljZSAhPT0gbnVsbCA/IE51bWJlcihwcm9kdWN0Lmxpc3RfcHJpY2UpLnRvRml4ZWQoMikgOiAnTi9BJ33igqw8L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIGA7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHByb2R1Y3RIdG1sKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGVzIHByb2R1aXRzOicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImNvbC0xMiB0ZXh0LWNlbnRlciB0ZXh0LWRhbmdlciI+PHA+RXJyb3IgbG9hZGluZyBwcm9kdWN0czogJyArIGVycm9yLm1lc3NhZ2UgKyAnPC9wPjwvZGl2Pic7DQogICAgICAgICAgICB9KTsNCiAgICB9DQoNCiAgICAvLyBJbml0aWFsaXplIHBhZ2Ugd2hlbiBET00gaXMgbG9hZGVkDQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgbG9hZEZpbHRlcnMoKTsNCiAgICAgICAgbG9hZFByb2R1Y3RzKCk7DQoNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbi1wcmljZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXjAtOSwuXS9nLCAnJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxldCBkZWNpbWFsQ291bnQgPSAodmFsdWUubWF0Y2goL1ssLl0vZykgfHwgW10pLmxlbmd0aDsNCiAgICAgICAgICAgIGlmIChkZWNpbWFsQ291bnQgPiAxKSB7DQogICAgICAgICAgICAgICAgbGV0IHBhcnRzID0gdmFsdWUuc3BsaXQoL1ssLl0vKTsNCiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnRzWzBdICsgJywnICsgcGFydHMuc2xpY2UoMSkuam9pbignJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKCcsJykgIT09IC0xIHx8IHZhbHVlLmluZGV4T2YoJy4nKSAhPT0gLTEpIHsNCiAgICAgICAgICAgICAgICBsZXQgcGFydHMgPSB2YWx1ZS5zcGxpdCgvWywuXS8pOw0KICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSAmJiBwYXJ0c1sxXS5sZW5ndGggPiAyKSB7DQogICAgICAgICAgICAgICAgICAgIHBhcnRzWzFdID0gcGFydHNbMV0uc3Vic3RyaW5nKDAsIDIpOw0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnRzWzBdICsgJywnICsgcGFydHNbMV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7DQogICAgICAgIH0pOw0KICAgICAgICANCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21heC1wcmljZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXjAtOSwuXS9nLCAnJyk7DQogICAgICAgICAgICBsZXQgZGVjaW1hbENvdW50ID0gKHZhbHVlLm1hdGNoKC9bLC5dL2cpIHx8IFtdKS5sZW5ndGg7DQogICAgICAgICAgICBpZiAoZGVjaW1hbENvdW50ID4gMSkgew0KICAgICAgICAgICAgICAgIGxldCBwYXJ0cyA9IHZhbHVlLnNwbGl0KC9bLC5dLyk7DQogICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJ0c1swXSArICcsJyArIHBhcnRzLnNsaWNlKDEpLmpvaW4oJycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoJywnKSAhPT0gLTEgfHwgdmFsdWUuaW5kZXhPZignLicpICE9PSAtMSkgew0KICAgICAgICAgICAgICAgIGxldCBwYXJ0cyA9IHZhbHVlLnNwbGl0KC9bLC5dLyk7DQogICAgICAgICAgICAgICAgaWYgKHBhcnRzWzFdICYmIHBhcnRzWzFdLmxlbmd0aCA+IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgcGFydHNbMV0gPSBwYXJ0c1sxXS5zdWJzdHJpbmcoMCwgMik7DQogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFydHNbMF0gKyAnLCcgKyBwYXJ0c1sxXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7DQogICAgICAgIH0pOw0KDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXItZm9ybScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGxvYWRQcm9kdWN0cygpOw0KICAgICAgICB9KTsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbi1wcmljZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBsb2FkUHJvZHVjdHMpOw0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF4LXByaWNlJykuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGxvYWRQcm9kdWN0cyk7DQogICAgfSk7DQo8L3NjcmlwdD4NCg0KPD9waHANCmluY2x1ZGVfb25jZSgnd3d3L2Zvb3Rlci5pbmMucGhwJyk7DQo/Pg0KIjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGRvY0Jsb2NrIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2siOjc6e3M6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAc3VtbWFyeSI7czoyMDoiUHJvZHVjdCBDYXRhbG9nIFZpZXciO3M6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAZGVzY3JpcHRpb24iO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbiI6Mjp7czo1OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgBib2R5VGVtcGxhdGUiO3M6MTI4OiJEaXNwbGF5cyB0aGUgcHJvZHVjdCBjYXRhbG9nIHdpdGggZmlsdGVyaW5nIGNhcGFiaWxpdGllcyBmb3IgYmlrZXMKSW5jbHVkaW5nIGJyYW5kLCBjYXRlZ29yeSwgbW9kZWwgeWVhciBhbmQgcHJpY2UgcmFuZ2UgZmlsdGVycyI7czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgB0YWdzIjthOjA6e319czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawB0YWdzIjthOjM6e2k6MDtPOjQ2OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcVGFnc1xHZW5lcmljIjoyOntzOjc6IgAqAG5hbWUiO3M6NzoicGFja2FnZSI7czoxNDoiACoAZGVzY3JpcHRpb24iO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbiI6Mjp7czo1OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgBib2R5VGVtcGxhdGUiO3M6MTU6IkJpa2VTdG9yZVxWaWV3cyI7czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgB0YWdzIjthOjA6e319fWk6MTtPOjQ1OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcVGFnc1xBdXRob3IiOjQ6e3M6NzoiACoAbmFtZSI7czo2OiJhdXRob3IiO3M6MTQ6IgAqAGRlc2NyaXB0aW9uIjtOO3M6NTc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcVGFnc1xBdXRob3IAYXV0aG9yTmFtZSI7czowOiIiO3M6NTg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcVGFnc1xBdXRob3IAYXV0aG9yRW1haWwiO3M6MDoiIjt9aToyO086NDY6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xUYWdzXFZlcnNpb24iOjM6e3M6NzoiACoAbmFtZSI7czo3OiJ2ZXJzaW9uIjtzOjE0OiIAKgBkZXNjcmlwdGlvbiI7Tzo0NToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uIjoyOntzOjU5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAGJvZHlUZW1wbGF0ZSI7czowOiIiO3M6NTE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24AdGFncyI7YTowOnt9fXM6NTU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcVGFnc1xWZXJzaW9uAHZlcnNpb24iO3M6MzoiMS4wIjt9fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAY29udGV4dCI7TzozODoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXENvbnRleHQiOjI6e3M6NDk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dABuYW1lc3BhY2UiO3M6MDoiIjtzOjU2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXENvbnRleHQAbmFtZXNwYWNlQWxpYXNlcyI7YTowOnt9fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAbG9jYXRpb24iO047czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBpc1RlbXBsYXRlU3RhcnQiO2I6MDtzOjQ4OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGlzVGVtcGxhdGVFbmQiO2I6MDt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBtZXRhZGF0YSI7YTowOnt9fQ==";