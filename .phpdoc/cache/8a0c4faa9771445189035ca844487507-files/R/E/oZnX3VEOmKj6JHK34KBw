1747857151
8a0c4faa9771445189035ca844487507-phpdoc%3A86d26e8f03484ae0be4dafe02c71022d-014b3b5e64c5ed1e26f5fed03af4c781
s:30796:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjE2OiJBcGlFbXBsb3llZXMucGhwIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjE6e3M6MTc6Ilx2YWxpZGF0ZUFwaUtleSgpIjtPOjM4OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXyI6OTp7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGFyZ3VtZW50cyI7YTowOnt9czo0ODoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGxvY2F0aW9uIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24iOjI6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AbGluZU51bWJlciI7aTo0NDtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGNvbHVtbk51bWJlciI7aTowO31zOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AZW5kTG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjU0O3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AY29sdW1uTnVtYmVyIjtpOjA7fXM6NTA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwByZXR1cm5UeXBlIjtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcTWl4ZWRfIjowOnt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGZxc2VuIjtPOjMwOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4iOjI6e3M6Mzc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AZnFzZW4iO3M6MTc6Ilx2YWxpZGF0ZUFwaUtleSgpIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6MTQ6InZhbGlkYXRlQXBpS2V5Ijt9czo0ODoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGRvY0Jsb2NrIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2siOjc6e3M6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAc3VtbWFyeSI7czo4MjoiVmFsaWRhdGVzIEFQSSBrZXkgZnJvbSByZXF1ZXN0IGhlYWRlcnMKR0VUIHJlcXVlc3RzIGFyZSBleGVtcHQgZnJvbSBhdXRoZW50aWNhdGlvbiI7czo0NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBkZXNjcmlwdGlvbiI7Tzo0NToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uIjoyOntzOjU5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAGJvZHlUZW1wbGF0ZSI7czowOiIiO3M6NTE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24AdGFncyI7YTowOnt9fXM6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAdGFncyI7YToyOntpOjA7Tzo0NjoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXFRhZ3NcUmV0dXJuXyI6Mzp7czo3OiIAKgBuYW1lIjtzOjY6InJldHVybiI7czoxNDoiACoAZGVzY3JpcHRpb24iO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbiI6Mjp7czo1OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgBib2R5VGVtcGxhdGUiO3M6MDoiIjtzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAHRhZ3MiO2E6MDp7fX1zOjc6IgAqAHR5cGUiO086MzY6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xWb2lkXyI6MDp7fX1pOjE7Tzo0NToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXFRhZ3NcVGhyb3dzIjozOntzOjc6IgAqAG5hbWUiO3M6NjoidGhyb3dzIjtzOjE0OiIAKgBkZXNjcmlwdGlvbiI7Tzo0NToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uIjoyOntzOjU5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAGJvZHlUZW1wbGF0ZSI7czozMjoiSWYgQVBJIGtleSBpcyBtaXNzaW5nIG9yIGludmFsaWQiO3M6NTE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24AdGFncyI7YTowOnt9fXM6NzoiACoAdHlwZSI7TzozODoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXE9iamVjdF8iOjE6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcT2JqZWN0XwBmcXNlbiI7TzozMDoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuIjoyOntzOjM3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAGZxc2VuIjtzOjEwOiJcRXhjZXB0aW9uIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6OToiRXhjZXB0aW9uIjt9fX19czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBjb250ZXh0IjtPOjM4OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dCI6Mjp7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xDb250ZXh0AG5hbWVzcGFjZSI7czowOiIiO3M6NTY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dABuYW1lc3BhY2VBbGlhc2VzIjthOjA6e319czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBsb2NhdGlvbiI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGlzVGVtcGxhdGVTdGFydCI7YjowO3M6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAaXNUZW1wbGF0ZUVuZCI7YjowO31zOjYwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AaGFzUmV0dXJuQnlSZWZlcmVuY2UiO2I6MDtzOjQ4OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AbWV0YWRhdGEiO2E6MDp7fXM6NTA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBhdHRyaWJ1dGVzIjthOjA6e319fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjE6e3M6ODoiXEFQSV9LRVkiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQiOjk6e3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENvbnN0YW50AGxvY2F0aW9uIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24iOjI6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AbGluZU51bWJlciI7aTozMztzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGNvbHVtbk51bWJlciI7aTowO31zOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDb25zdGFudABlbmRMb2NhdGlvbiI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uIjoyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGxpbmVOdW1iZXIiO2k6MzM7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQAdmlzaWJpbGl0eSI7TzozOToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5IjoxOntzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5AHZpc2liaWxpdHkiO3M6NjoicHVibGljIjt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQAZnFzZW4iO086MzA6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbiI6Mjp7czozNzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBmcXNlbiI7czo4OiJcQVBJX0tFWSI7czozNjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBuYW1lIjtzOjc6IkFQSV9LRVkiO31zOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDb25zdGFudABkb2NCbG9jayI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrIjo3OntzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHN1bW1hcnkiO3M6MjI6IkFQSSBhdXRoZW50aWNhdGlvbiBrZXkiO3M6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAZGVzY3JpcHRpb24iO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbiI6Mjp7czo1OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgBib2R5VGVtcGxhdGUiO3M6MDoiIjtzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAHRhZ3MiO2E6MDp7fX1zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHRhZ3MiO2E6MTp7aTowO086NDM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xUYWdzXFZhcl8iOjQ6e3M6NzoiACoAbmFtZSI7czozOiJ2YXIiO3M6MTQ6IgAqAGRlc2NyaXB0aW9uIjtPOjQ1OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24iOjI6e3M6NTk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcRGVzY3JpcHRpb24AYm9keVRlbXBsYXRlIjtzOjA6IiI7czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgB0YWdzIjthOjA6e319czo3OiIAKgB0eXBlIjtPOjM4OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcU3RyaW5nXyI6MDp7fXM6MTU6IgAqAHZhcmlhYmxlTmFtZSI7czowOiIiO319czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBjb250ZXh0IjtPOjM4OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dCI6Mjp7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xDb250ZXh0AG5hbWVzcGFjZSI7czowOiIiO3M6NTY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dABuYW1lc3BhY2VBbGlhc2VzIjthOjA6e319czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBsb2NhdGlvbiI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGlzVGVtcGxhdGVTdGFydCI7YjowO3M6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAaXNUZW1wbGF0ZUVuZCI7YjowO31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDb25zdGFudAB2YWx1ZSI7czoxMzoiJ2U4ZjE5OTdjNzYzJyI7czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQAZmluYWwiO2I6MDtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDb25zdGFudABtZXRhZGF0YSI7YTowOnt9czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ29uc3RhbnQAYXR0cmlidXRlcyI7YTowOnt9fX1zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaGFzaCI7czozMjoiMDE0YjNiNWU2NGM1ZWQxZTI2ZjVmZWQwM2FmNGM3ODEiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czoyMDoiYXBpL0FwaUVtcGxveWVlcy5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjE0OTU3OiI8P3BocA0KLyoqDQogKiBFbXBsb3llZXMgQVBJIENvbnRyb2xsZXINCiAqIA0KICogSGFuZGxlcyBDUlVEIG9wZXJhdGlvbnMgZm9yIGVtcGxveWVlcyBtYW5hZ2VtZW50Og0KICogLSBHRVQ6IFJldHJpZXZlIGVtcGxveWVlcyAoYWxsLCBieSBJRCwgYnkgc3RvcmUsIGJ5IHJvbGUsIGJ5IGVtYWlsKQ0KICogLSBQT1NUOiBDcmVhdGUgbmV3IGVtcGxveWVlDQogKiAtIFBVVDogVXBkYXRlIGV4aXN0aW5nIGVtcGxveWVlDQogKiAtIERFTEVURTogUmVtb3ZlIGVtcGxveWVlDQogKiANCiAqIEBwYWNrYWdlIEJpa2VTdG9yZVxBUEkNCiAqIEB2ZXJzaW9uIDEuMA0KICovDQoNCi8vIFNldCBIVFRQIGhlYWRlcnMNCmhlYWRlcigiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luOiAqIik7DQpoZWFkZXIoIkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCIpOw0KaGVhZGVyKCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzOiBHRVQsIFBPU1QsIFBVVCwgREVMRVRFIik7DQoNCi8vIEluY2x1ZGUgcmVxdWlyZWQgZmlsZXMNCnJlcXVpcmVfb25jZSAnLi4vdmVuZG9yL2F1dG9sb2FkLnBocCc7DQpyZXF1aXJlX29uY2UgJy4uL3NyYy9FbnRpdHkvRW1wbG95ZWVzLnBocCc7DQpyZXF1aXJlX29uY2UgJy4uL3NyYy9FbnRpdHkvU3RvcmVzLnBocCc7DQpyZXF1aXJlX29uY2UgJy4uL2Jvb3RzdHJhcC5waHAnOw0KDQp1c2UgRW50aXR5XEVtcGxveWVlczsNCnVzZSBFbnRpdHlcU3RvcmVzOw0KDQovKioNCiAqIEFQSSBhdXRoZW50aWNhdGlvbiBrZXkNCiAqIEB2YXIgc3RyaW5nDQogKi8NCmRlZmluZSgnQVBJX0tFWScsICdlOGYxOTk3Yzc2MycpOw0KDQokcmVxdWVzdF9tZXRob2QgPSAkX1NFUlZFUlsiUkVRVUVTVF9NRVRIT0QiXTsNCg0KLyoqDQogKiBWYWxpZGF0ZXMgQVBJIGtleSBmcm9tIHJlcXVlc3QgaGVhZGVycw0KICogR0VUIHJlcXVlc3RzIGFyZSBleGVtcHQgZnJvbSBhdXRoZW50aWNhdGlvbg0KICogDQogKiBAcmV0dXJuIHZvaWQNCiAqIEB0aHJvd3MgRXhjZXB0aW9uIElmIEFQSSBrZXkgaXMgbWlzc2luZyBvciBpbnZhbGlkDQogKi8NCmZ1bmN0aW9uIHZhbGlkYXRlQXBpS2V5KCkgew0KICAgICRoZWFkZXJzID0gZ2V0YWxsaGVhZGVycygpOw0KICAgIGlmKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdPT0iR0VUIil7DQogICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZiAoIWlzc2V0KCRoZWFkZXJzWydBcGknXSl8fCRoZWFkZXJzWydBcGknXSAhPSBBUElfS0VZKSB7DQogICAgICAgIGhlYWRlcignSFRUUC8xLjAgNDAxIFVuYXV0aG9yaXplZCcpOw0KICAgICAgICBlY2hvIGpzb25fZW5jb2RlKFsnbWVzc2FnZScgPT4gJ01ldGhvZCBOb3QgQWxsb3dlZCddKTsNCiAgICAgICAgZXhpdCgpOw0KICAgIH0gICANCn0NCnZhbGlkYXRlQXBpS2V5KCk7DQoNCiRwYXRoX2luZm8gPSBpc3NldCgkX1NFUlZFUlsnUEFUSF9JTkZPJ10pID8gJF9TRVJWRVJbJ1BBVEhfSU5GTyddIDogJy8nOw0KJHJlcXVlc3QgPSBleHBsb2RlKCcvJywgdHJpbSgkcGF0aF9pbmZvLCAnLycpKTsNCg0Kc3dpdGNoICgkcmVxdWVzdF9tZXRob2QpIHsNCiAgICBjYXNlICdHRVQnOg0KICAgICAgICAvKioNCiAgICAgICAgICogSGFuZGxlIEdFVCByZXF1ZXN0cw0KICAgICAgICAgKiANCiAgICAgICAgICogQHBhcmFtIHN0cmluZyAkYWN0aW9uIFJlcXVlc3QgYWN0aW9uIChnZXRhbGx8Z2V0YnlpZHxnZXRieXN0b3JlfGdldGJ5cm9sZXxnZXRieWVtYWlsKQ0KICAgICAgICAgKiBAcGFyYW0gaW50ICRpZCBPcHRpb25hbCBlbXBsb3llZSBJRA0KICAgICAgICAgKiBAcGFyYW0gaW50ICRzdG9yZV9pZCBPcHRpb25hbCBzdG9yZSBJRA0KICAgICAgICAgKiBAcGFyYW0gc3RyaW5nICRyb2xlIE9wdGlvbmFsIGVtcGxveWVlIHJvbGUNCiAgICAgICAgICogQHBhcmFtIHN0cmluZyAkZW1haWwgT3B0aW9uYWwgZW1wbG95ZWUgZW1haWwNCiAgICAgICAgICogQHJldHVybiBqc29uIFJlc3BvbnNlIHdpdGggZW1wbG95ZWUgZGF0YSBvciBlcnJvciBtZXNzYWdlDQogICAgICAgICAqLw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gVsOpcmlmaWUgc2kgdW4gcGFyYW3DqHRyZSAiYWN0aW9uIiBlc3QgcHLDqXNlbnQgZGFucyBsYSByZXF1w6p0ZQ0KICAgICAgICAgICAgaWYgKCFlbXB0eSgkX1JFUVVFU1RbImFjdGlvbiJdKSkgew0KICAgIA0KICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIHRvdXMgbGVzIGVtcGxvecOpcw0KICAgICAgICAgICAgICAgIGlmICgkX1JFUVVFU1RbImFjdGlvbiJdID09ICJnZXRhbGwiKSB7DQogICAgICAgICAgICAgICAgICAgICRlbXBsb3llZXMgPSAkZW50aXR5TWFuYWdlci0+Z2V0UmVwb3NpdG9yeShFbXBsb3llZXM6OmNsYXNzKS0+ZmluZEFsbCgpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIHVuIGVtcGxvecOpIHBhciBzb24gSUQNCiAgICAgICAgICAgICAgICB9IGVsc2VpZiAoJF9SRVFVRVNUWyJhY3Rpb24iXSA9PSAiZ2V0YnlpZCIgJiYgIWVtcHR5KCRfUkVRVUVTVFsiaWQiXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgJGVtcGxveWVlcyA9IFskZW50aXR5TWFuYWdlci0+ZmluZChFbXBsb3llZXM6OmNsYXNzLCAkX1JFUVVFU1RbImlkIl0pXTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBSw6ljdXDDqXJlciB0b3VzIGxlcyBlbXBsb3nDqXMgZCd1biBtYWdhc2luIHNww6ljaWZpcXVlDQogICAgICAgICAgICAgICAgfSBlbHNlaWYgKCRfUkVRVUVTVFsiYWN0aW9uIl0gPT0gImdldGJ5c3RvcmUiICYmICFlbXB0eSgkX1JFUVVFU1RbInN0b3JlX2lkIl0pKSB7DQogICAgICAgICAgICAgICAgICAgICRlbXBsb3llZXMgPSAkZW50aXR5TWFuYWdlci0+Z2V0UmVwb3NpdG9yeShFbXBsb3llZXM6OmNsYXNzKS0+ZmluZEJ5KFsnc3RvcmUnID0+ICRfUkVRVUVTVFsic3RvcmVfaWQiXV0pOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIHRvdXMgbGVzIGVtcGxvecOpcyBzZWxvbiBsZXVyIHLDtGxlIChlbXBsb3llZSwgY2hpZWYsIGl0KQ0KICAgICAgICAgICAgICAgIH0gZWxzZWlmICgkX1JFUVVFU1RbImFjdGlvbiJdID09ICJnZXRieXJvbGUiICYmICFlbXB0eSgkX1JFUVVFU1RbInJvbGUiXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgJGVtcGxveWVlcyA9ICRlbnRpdHlNYW5hZ2VyLT5nZXRSZXBvc2l0b3J5KEVtcGxveWVlczo6Y2xhc3MpLT5maW5kQnkoWydlbXBsb3llZV9yb2xlJyA9PiAkX1JFUVVFU1RbInJvbGUiXV0pOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIHVuIGVtcGxvecOpIHZpYSBzb24gZW1haWwgKHV0aWxlIHBvdXIgbCdhdXRoZW50aWZpY2F0aW9uKQ0KICAgICAgICAgICAgICAgIH1lbHNlaWYgKCRfUkVRVUVTVFsiYWN0aW9uIl0gPT0gImdldGJ5ZW1haWwiICYmICFlbXB0eSgkX1JFUVVFU1RbImVtYWlsIl0pKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIHRvdXMgbGVzIGVtcGxvecOpcyBwb3VyIHbDqXJpZmllcg0KICAgICAgICAgICAgICAgICAgICAkYWxsRW1wbG95ZWVzID0gJGVudGl0eU1hbmFnZXItPmdldFJlcG9zaXRvcnkoRW1wbG95ZWVzOjpjbGFzcyktPmZpbmRBbGwoKTsNCiAgICAgICAgICAgICAgICAgICAgZXJyb3JfbG9nKCJUb3VzIGxlcyBlbXBsb3nDqXMgZGlzcG9uaWJsZXM6Iik7DQogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRhbGxFbXBsb3llZXMgYXMgJGVtcCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfbG9nKCJJRDogIiAuICRlbXAtPmdldEVtcGxveWVlSWQoKSAuICIsIEVtYWlsOiAiIC4gJGVtcC0+Z2V0RW1wbG95ZWVFbWFpbCgpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIC8vIENPUlJFQ1RJT04gOiBWw6lyaWZpZXIgbGUgbm9tIGV4YWN0IGRlIGxhIGNvbG9ubmUgZGFucyB2b3RyZSBlbnRpdMOpDQogICAgICAgICAgICAgICAgICAgIC8vIFNpIHZvdHJlIGVudGl0w6kgdXRpbGlzZSAnZW1wbG95ZWVfZW1haWwnLCBtYWlzIGxhIGJhc2UgZGUgZG9ubsOpZXMgdXRpbGlzZSB1biBhdXRyZSBub20NCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlbnRhdGl2ZSBhdmVjIGZpbmRPbmVCeQ0KICAgICAgICAgICAgICAgICAgICAgICAgJGVtcGxveWVlID0gJGVudGl0eU1hbmFnZXItPmdldFJlcG9zaXRvcnkoRW1wbG95ZWVzOjpjbGFzcyktPmZpbmRPbmVCeShbJ2VtcGxveWVlX2VtYWlsJyA9PiBzdHJ0b2xvd2VyKCRfUkVRVUVTVFsiZW1haWwiXSldKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2kgw6dhIG5lIGZvbmN0aW9ubmUgcGFzLCBlc3NheWVyIGF2ZWMgY3JlYXRlUXVlcnlCdWlsZGVyDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoISRlbXBsb3llZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX2xvZygiVGVudGF0aXZlIGF2ZWMgUXVlcnlCdWlsZGVyIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHFiID0gJGVudGl0eU1hbmFnZXItPmNyZWF0ZVF1ZXJ5QnVpbGRlcigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRxYi0+c2VsZWN0KCdlJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtPmZyb20oRW1wbG95ZWVzOjpjbGFzcywgJ2UnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0+d2hlcmUoJ2UuZW1wbG95ZWVfZW1haWwgPSA6ZW1haWwnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0+c2V0UGFyYW1ldGVyKCdlbWFpbCcsICRfUkVRVUVTVFsiZW1haWwiXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHF1ZXJ5ID0gJHFiLT5nZXRRdWVyeSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlbXBsb3llZSA9ICRxdWVyeS0+Z2V0T25lT3JOdWxsUmVzdWx0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvZyBwb3VyIHbDqXJpZmllciBzaSBsJ2VtcGxvecOpIGVzdCB0cm91dsOpDQogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9sb2coIkVtcGxvecOpIHRyb3V2w6k6ICIgLiAoJGVtcGxveWVlID8gIk91aSIgOiAiTm9uIikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGVtcGxveWVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0ganNvbl9lbmNvZGUoWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1wbG95ZWVfaWQnID0+ICRlbXBsb3llZS0+Z2V0RW1wbG95ZWVJZCgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW1wbG95ZWVfbmFtZScgPT4gJGVtcGxveWVlLT5nZXRFbXBsb3llZU5hbWUoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtcGxveWVlX2VtYWlsJyA9PiAkZW1wbG95ZWUtPmdldEVtcGxveWVlRW1haWwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtcGxveWVlX3Bhc3N3b3JkJyA9PiAkZW1wbG95ZWUtPmdldEVtcGxveWVlUGFzc3dvcmQoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtcGxveWVlX3JvbGUnID0+ICRlbXBsb3llZS0+Z2V0RW1wbG95ZWVSb2xlKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdG9yZV9pZCcgPT4gJGVtcGxveWVlLT5nZXRTdG9yZSgpID8gJGVtcGxveWVlLT5nZXRTdG9yZSgpLT5nZXRTdG9yZUlkKCkgOiBudWxsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfbG9nKCJSw6lwb25zZSBKU09OOiAiIC4gJHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICRyZXNwb25zZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0ganNvbl9lbmNvZGUoWydlcnJvcicgPT4gJ0VtcGxveWVlIG5vdCBmb3VuZCddKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9sb2coIlLDqXBvbnNlIGQnZXJyZXVyOiAiIC4gJHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICRyZXNwb25zZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9sb2coIkV4Y2VwdGlvbiBsb3JzIGRlIGxhIHJlY2hlcmNoZSBwYXIgZW1haWw6ICIgLiAkZS0+Z2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8ganNvbl9lbmNvZGUoWydlcnJvcicgPT4gJ0Vycm9yIHNlYXJjaGluZyBlbXBsb3llZTogJyAuICRlLT5nZXRNZXNzYWdlKCldKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBleGl0KCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHNpIHVuIGVtYWlsIGV4aXN0ZSBkw6lqw6AgKMOpdml0ZXIgbGVzIGRvdWJsb25zKQ0KICAgICAgICAgICAgICAgIH0gZWxzZWlmICgkX1JFUVVFU1RbImFjdGlvbiJdID09ICJlbWFpbGV4aXN0cyIgJiYgIWVtcHR5KCRfUkVRVUVTVFsiZW1haWwiXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgJGVtcGxveWVlID0gJGVudGl0eU1hbmFnZXItPmdldFJlcG9zaXRvcnkoRW1wbG95ZWVzOjpjbGFzcyktPmZpbmRPbmVCeShbJ2VtcGxveWVlX2VtYWlsJyA9PiAkX1JFUVVFU1RbImVtYWlsIl1dKTsNCiAgICAgICAgICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZShbJ2V4aXN0cycgPT4gJGVtcGxveWVlICE9PSBudWxsXSk7IC8vIFJldG91cm5lIHRydWUgb3UgZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgZXhpdCgpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIFRyaWVyIGxlcyBlbXBsb3nDqXMgc2Vsb24gdW4gY2hhbXAgKGV4OiBwYXIgbm9tIG91IHLDtGxlKQ0KICAgICAgICAgICAgICAgIH0gZWxzZWlmICgkX1JFUVVFU1RbImFjdGlvbiJdID09ICJnZXRzb3J0ZWQiICYmICFlbXB0eSgkX1JFUVVFU1RbInNvcnQiXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgJG9yZGVyQnkgPSBbJF9SRVFVRVNUWyJzb3J0Il0gPT4gJ0FTQyddOyAvLyBUcmllIGVuIG9yZHJlIGNyb2lzc2FudA0KICAgICAgICAgICAgICAgICAgICAkZW1wbG95ZWVzID0gJGVudGl0eU1hbmFnZXItPmdldFJlcG9zaXRvcnkoRW1wbG95ZWVzOjpjbGFzcyktPmZpbmRCeShbXSwgJG9yZGVyQnkpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgYWN0aW9uLicpOyAvLyBHw6hyZSBsZXMgYWN0aW9ucyBub24gcmVjb25udWVzDQogICAgICAgICAgICAgICAgfQ0KICAgIA0KICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybWUgbGVzIG9iamV0cyBlbXBsb3nDqXMgZW4gdGFibGVhdXggYXNzb2NpYXRpZnMgcG91ciBsZXMgY29udmVydGlyIGVuIEpTT04NCiAgICAgICAgICAgICAgICAkZW1wbG95ZWVEYXRhID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkZW1wbG95ZWUpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsNCiAgICAgICAgICAgICAgICAgICAgICAgICdlbXBsb3llZV9pZCcgPT4gJGVtcGxveWVlLT5nZXRFbXBsb3llZUlkKCksDQogICAgICAgICAgICAgICAgICAgICAgICAnc3RvcmVfaWQnID0+ICRlbXBsb3llZS0+Z2V0U3RvcmUoKSA/ICRlbXBsb3llZS0+Z2V0U3RvcmUoKS0+Z2V0U3RvcmVJZCgpIDogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdlbXBsb3llZV9uYW1lJyA9PiAkZW1wbG95ZWUtPmdldEVtcGxveWVlTmFtZSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2VtcGxveWVlX2VtYWlsJyA9PiAkZW1wbG95ZWUtPmdldEVtcGxveWVlRW1haWwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICdlbXBsb3llZV9yb2xlJyA9PiAkZW1wbG95ZWUtPmdldEVtcGxveWVlUm9sZSgpDQogICAgICAgICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgICAgfSwgJGVtcGxveWVlcyk7DQogICAgDQogICAgICAgICAgICAgICAgLy8gUmVudm9pZSBsZXMgZG9ubsOpZXMgZGVzIGVtcGxvecOpcyBlbiBmb3JtYXQgSlNPTg0KICAgICAgICAgICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJGVtcGxveWVlRGF0YSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTm8gYWN0aW9uIHByb3ZpZGVkLicpOyAvLyBTaSBhdWN1bmUgYWN0aW9uIG4nZXN0IHNww6ljaWZpw6llDQogICAgICAgICAgICB9DQogICAgICAgIA0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgIC8vIENhcHR1cmUgZXQgYWZmaWNoZSBsZXMgZXJyZXVycyBzb3VzIGZvcm1lIGRlIEpTT04NCiAgICAgICAgICAgIGVjaG8ganNvbl9lbmNvZGUoWydlcnJvcicgPT4gJGUtPmdldE1lc3NhZ2UoKV0pOw0KICAgICAgICB9DQogICAgICAgIGJyZWFrOw0KICAgIGNhc2UgJ1BPU1QnOg0KICAgICAgICAvKioNCiAgICAgICAgICogSGFuZGxlIFBPU1QgcmVxdWVzdHMgZm9yIGVtcGxveWVlIGNyZWF0aW9uDQogICAgICAgICAqIA0KICAgICAgICAgKiBAcGFyYW0gYXJyYXkgJGRhdGEgSlNPTiBib2R5IGNvbnRhaW5pbmc6DQogICAgICAgICAqICAgICAgLSBlbXBsb3llZV9uYW1lOiBzdHJpbmcgRW1wbG95ZWUncyBmdWxsIG5hbWUNCiAgICAgICAgICogICAgICAtIGVtcGxveWVlX2VtYWlsOiBzdHJpbmcgRW1wbG95ZWUncyBlbWFpbA0KICAgICAgICAgKiAgICAgIC0gZW1wbG95ZWVfcGFzc3dvcmQ6IHN0cmluZyBFbXBsb3llZSdzIHBhc3N3b3JkDQogICAgICAgICAqICAgICAgLSBlbXBsb3llZV9yb2xlOiBzdHJpbmcgRW1wbG95ZWUncyByb2xlIChlbXBsb3llZXxjaGllZnxpdCkNCiAgICAgICAgICogICAgICAtIHN0b3JlX2lkOiBpbnQgT3B0aW9uYWwgc3RvcmUgYXNzaWdubWVudA0KICAgICAgICAgKiBAcmV0dXJuIGpzb24gUmVzcG9uc2Ugd2l0aCBzdWNjZXNzIG9yIGVycm9yIG1lc3NhZ2UNCiAgICAgICAgICovDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAoIWVtcHR5KCRfUkVRVUVTVFsiYWN0aW9uIl0pICYmICRfUkVRVUVTVFsiYWN0aW9uIl0gPT0gImNyZWF0ZSIpIHsNCiAgICAgICAgICAgICAgICAkZGF0YSA9IGpzb25fZGVjb2RlKGZpbGVfZ2V0X2NvbnRlbnRzKCdwaHA6Ly9pbnB1dCcpLCB0cnVlKTsNCiAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJGRhdGFbJ2VtcGxveWVlX25hbWUnXSwgJGRhdGFbJ2VtcGxveWVlX2VtYWlsJ10sICRkYXRhWydlbXBsb3llZV9wYXNzd29yZCddLCAkZGF0YVsnZW1wbG95ZWVfcm9sZSddKSkgew0KICAgICAgICAgICAgICAgICAgICAkZW1wbG95ZWUgPSBuZXcgRW1wbG95ZWVzKCk7DQogICAgICAgICAgICAgICAgICAgICRlbXBsb3llZS0+c2V0RW1wbG95ZWVOYW1lKCRkYXRhWydlbXBsb3llZV9uYW1lJ10pOw0KICAgICAgICAgICAgICAgICAgICAkZW1wbG95ZWUtPnNldEVtcGxveWVlRW1haWwoJGRhdGFbJ2VtcGxveWVlX2VtYWlsJ10pOw0KICAgICAgICAgICAgICAgICAgICAkZW1wbG95ZWUtPnNldEVtcGxveWVlUGFzc3dvcmQoJGRhdGFbJ2VtcGxveWVlX3Bhc3N3b3JkJ10pOw0KICAgICAgICAgICAgICAgICAgICAkZW1wbG95ZWUtPnNldEVtcGxveWVlUm9sZSgkZGF0YVsnZW1wbG95ZWVfcm9sZSddKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzc2V0KCRkYXRhWydzdG9yZV9pZCddKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJHN0b3JlID0gJGVudGl0eU1hbmFnZXItPmZpbmQoU3RvcmVzOjpjbGFzcywgJGRhdGFbJ3N0b3JlX2lkJ10pOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdG9yZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlbXBsb3llZS0+c2V0U3RvcmUoJHN0b3JlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignU3RvcmUgbm90IGZvdW5kLicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICRlbnRpdHlNYW5hZ2VyLT5wZXJzaXN0KCRlbXBsb3llZSk7DQogICAgICAgICAgICAgICAgICAgICRlbnRpdHlNYW5hZ2VyLT5mbHVzaCgpOw0KICAgICAgICAgICAgICAgICAgICBlY2hvIGpzb25fZW5jb2RlKFsnbWVzc2FnZScgPT4gJ0VtcGxveWVlIGNyZWF0ZWQnXSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignSW52YWxpZCBpbnB1dCcpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignSW52YWxpZCBhY3Rpb24uJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZShbJ2Vycm9yJyA9PiAkZS0+Z2V0TWVzc2FnZSgpXSk7DQogICAgICAgIH0NCiAgICAgICAgYnJlYWs7DQogICAgY2FzZSAnUFVUJzoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEhhbmRsZSBQVVQgcmVxdWVzdHMgZm9yIGVtcGxveWVlIHVwZGF0ZXMNCiAgICAgICAgICogDQogICAgICAgICAqIEBwYXJhbSBpbnQgJGlkIEVtcGxveWVlIElEIHRvIHVwZGF0ZQ0KICAgICAgICAgKiBAcGFyYW0gYXJyYXkgJGRhdGEgSlNPTiBib2R5IHdpdGggdXBkYXRlZCBlbXBsb3llZSBkYXRhDQogICAgICAgICAqIEByZXR1cm4ganNvbiBSZXNwb25zZSB3aXRoIHN1Y2Nlc3Mgb3IgZXJyb3IgbWVzc2FnZQ0KICAgICAgICAgKi8NCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICghZW1wdHkoJF9SRVFVRVNUWyJhY3Rpb24iXSkgJiYgJF9SRVFVRVNUWyJhY3Rpb24iXSA9PSAidXBkYXRlIiAmJiAhZW1wdHkoJF9SRVFVRVNUWyJpZCJdKSkgew0KICAgICAgICAgICAgICAgICRkYXRhID0ganNvbl9kZWNvZGUoZmlsZV9nZXRfY29udGVudHMoJ3BocDovL2lucHV0JyksIHRydWUpOw0KICAgICAgICAgICAgICAgIGlmIChpc3NldCgkZGF0YVsnZW1wbG95ZWVfbmFtZSddLCAkZGF0YVsnZW1wbG95ZWVfZW1haWwnXSwgJGRhdGFbJ2VtcGxveWVlX3Bhc3N3b3JkJ10sICRkYXRhWydlbXBsb3llZV9yb2xlJ10pKSB7DQogICAgICAgICAgICAgICAgICAgICRlbXBsb3llZSA9ICRlbnRpdHlNYW5hZ2VyLT5maW5kKEVtcGxveWVlczo6Y2xhc3MsICRfUkVRVUVTVFsiaWQiXSk7DQogICAgICAgICAgICAgICAgICAgIGlmICgkZW1wbG95ZWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRlbXBsb3llZS0+c2V0RW1wbG95ZWVOYW1lKCRkYXRhWydlbXBsb3llZV9uYW1lJ10pOw0KICAgICAgICAgICAgICAgICAgICAgICAgJGVtcGxveWVlLT5zZXRFbXBsb3llZUVtYWlsKCRkYXRhWydlbXBsb3llZV9lbWFpbCddKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICRlbXBsb3llZS0+c2V0RW1wbG95ZWVQYXNzd29yZCgkZGF0YVsnZW1wbG95ZWVfcGFzc3dvcmQnXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAkZW1wbG95ZWUtPnNldEVtcGxveWVlUm9sZSgkZGF0YVsnZW1wbG95ZWVfcm9sZSddKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3NldCgkZGF0YVsnc3RvcmVfaWQnXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RvcmUgPSAkZW50aXR5TWFuYWdlci0+ZmluZChTdG9yZXM6OmNsYXNzLCAkZGF0YVsnc3RvcmVfaWQnXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdG9yZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZW1wbG95ZWUtPnNldFN0b3JlKCRzdG9yZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignU3RvcmUgbm90IGZvdW5kLicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICRlbnRpdHlNYW5hZ2VyLT5mbHVzaCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZShbJ21lc3NhZ2UnID0+ICdFbXBsb3llZSB1cGRhdGVkJ10pOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignRW1wbG95ZWUgbm90IGZvdW5kLicpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignSW52YWxpZCBpbnB1dCcpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignSW52YWxpZCBhY3Rpb24uJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZShbJ2Vycm9yJyA9PiAkZS0+Z2V0TWVzc2FnZSgpXSk7DQogICAgICAgIH0NCiAgICAgICAgYnJlYWs7DQogICAgY2FzZSAnREVMRVRFJzoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEhhbmRsZSBERUxFVEUgcmVxdWVzdHMgZm9yIGVtcGxveWVlIHJlbW92YWwNCiAgICAgICAgICogDQogICAgICAgICAqIEBwYXJhbSBpbnQgJGlkIEVtcGxveWVlIElEIHRvIGRlbGV0ZQ0KICAgICAgICAgKiBAcmV0dXJuIGpzb24gUmVzcG9uc2Ugd2l0aCBzdWNjZXNzIG9yIGVycm9yIG1lc3NhZ2UNCiAgICAgICAgICovDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAoIWVtcHR5KCRfUkVRVUVTVFsiYWN0aW9uIl0pICYmICRfUkVRVUVTVFsiYWN0aW9uIl0gPT0gImRlbGV0ZSIgJiYgIWVtcHR5KCRfUkVRVUVTVFsiaWQiXSkpIHsNCiAgICAgICAgICAgICAgICAkZW1wbG95ZWUgPSAkZW50aXR5TWFuYWdlci0+ZmluZChFbXBsb3llZXM6OmNsYXNzLCAkX1JFUVVFU1RbImlkIl0pOw0KICAgICAgICAgICAgICAgIGlmICgkZW1wbG95ZWUpIHsNCiAgICAgICAgICAgICAgICAgICAgJGVudGl0eU1hbmFnZXItPnJlbW92ZSgkZW1wbG95ZWUpOw0KICAgICAgICAgICAgICAgICAgICAkZW50aXR5TWFuYWdlci0+Zmx1c2goKTsNCiAgICAgICAgICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZShbJ21lc3NhZ2UnID0+ICdFbXBsb3llZSBkZWxldGVkJ10pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0VtcGxveWVlIG5vdCBmb3VuZC4nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgYWN0aW9uLicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgIGVjaG8ganNvbl9lbmNvZGUoWydlcnJvcicgPT4gJGUtPmdldE1lc3NhZ2UoKV0pOw0KICAgICAgICB9DQogICAgICAgIGJyZWFrOw0KICAgIGRlZmF1bHQ6DQogICAgICAgIGh0dHBfcmVzcG9uc2VfY29kZSg0MDUpOw0KICAgICAgICBlY2hvIGpzb25fZW5jb2RlKFsnbWVzc2FnZScgPT4gJ01ldGhvZCBOb3QgQWxsb3dlZCddKTsNCiAgICAgICAgYnJlYWs7DQp9DQoNCi8vIEV4ZW1wbGVzIGQndXRpbGlzYXRpb246DQovL2h0dHBzOi8vY2xhZm91dGlzLmFsd2F5c2RhdGEubmV0L1NBRTQwMS9hcGkvQXBpRW1wbG95ZWVzLnBocD9hY3Rpb249Z2V0YWxsIg0KDQovL2h0dHBzOi8vY2xhZm91dGlzLmFsd2F5c2RhdGEubmV0L1NBRTQwMS9hcGkvQXBpRW1wbG95ZWVzLnBocD9hY3Rpb249Z2V0YnlpZCZpZD0xIg0KDQovLyAiaHR0cHM6Ly9jbGFmb3V0aXMuYWx3YXlzZGF0YS5uZXQvU0FFNDAxL2FwaS9BcGlFbXBsb3llZXMucGhwP2FjdGlvbj1jcmVhdGUiIC1kICd7ImVtcGxveWVlX25hbWUiOiAiSm9obiBEb2UiLCAiZW1wbG95ZWVfZW1haWwiOiAiam9obi5kb2VAZXhhbXBsZS5jb20iLCAiZW1wbG95ZWVfcGFzc3dvcmQiOiAicGFzc3dvcmQxMjMiLCAiZW1wbG95ZWVfcm9sZSI6ICJNYW5hZ2VyIiwgInN0b3JlX2lkIjogMX0nIC1IICJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24iDQoNCi8vImh0dHBzOi8vY2xhZm91dGlzLmFsd2F5c2RhdGEubmV0L1NBRTQwMS9hcGkvQXBpRW1wbG95ZWVzLnBocD9hY3Rpb249dXBkYXRlJmlkPTEiIC1kICd7ImVtcGxveWVlX25hbWUiOiAiSm9obiBEb2UiLCAiZW1wbG95ZWVfZW1haWwiOiAiam9obi5kb2VAZXhhbXBsZS5jb20iLCAiZW1wbG95ZWVfcGFzc3dvcmQiOiAibmV3cGFzc3dvcmQxMjMiLCAiZW1wbG95ZWVfcm9sZSI6ICJNYW5hZ2VyIiwgInN0b3JlX2lkIjogMX0nIC1IICJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24iDQoNCi8vImh0dHBzOi8vY2xhZm91dGlzLmFsd2F5c2RhdGEubmV0L1NBRTQwMS9hcGkvQXBpRW1wbG95ZWVzLnBocD9hY3Rpb249ZGVsZXRlJmlkPTEiDQo/PiI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrIjo3OntzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHN1bW1hcnkiO3M6MjQ6IkVtcGxveWVlcyBBUEkgQ29udHJvbGxlciI7czo0NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBkZXNjcmlwdGlvbiI7Tzo0NToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uIjoyOntzOjU5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAGJvZHlUZW1wbGF0ZSI7czoyMDM6IkhhbmRsZXMgQ1JVRCBvcGVyYXRpb25zIGZvciBlbXBsb3llZXMgbWFuYWdlbWVudDoKLSBHRVQ6IFJldHJpZXZlIGVtcGxveWVlcyAoYWxsLCBieSBJRCwgYnkgc3RvcmUsIGJ5IHJvbGUsIGJ5IGVtYWlsKQotIFBPU1Q6IENyZWF0ZSBuZXcgZW1wbG95ZWUKLSBQVVQ6IFVwZGF0ZSBleGlzdGluZyBlbXBsb3llZQotIERFTEVURTogUmVtb3ZlIGVtcGxveWVlIjtzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAHRhZ3MiO2E6MDp7fX1zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHRhZ3MiO2E6Mjp7aTowO086NDY6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xUYWdzXEdlbmVyaWMiOjI6e3M6NzoiACoAbmFtZSI7czo3OiJwYWNrYWdlIjtzOjE0OiIAKgBkZXNjcmlwdGlvbiI7Tzo0NToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uIjoyOntzOjU5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAGJvZHlUZW1wbGF0ZSI7czoxMzoiQmlrZVN0b3JlXEFQSSI7czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgB0YWdzIjthOjA6e319fWk6MTtPOjQ2OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2tcVGFnc1xWZXJzaW9uIjozOntzOjc6IgAqAG5hbWUiO3M6NzoidmVyc2lvbiI7czoxNDoiACoAZGVzY3JpcHRpb24iO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbiI6Mjp7czo1OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgBib2R5VGVtcGxhdGUiO3M6MDoiIjtzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAHRhZ3MiO2E6MDp7fX1zOjU1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXFRhZ3NcVmVyc2lvbgB2ZXJzaW9uIjtzOjM6IjEuMCI7fX1zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGNvbnRleHQiO086Mzg6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xDb250ZXh0IjoyOntzOjQ5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXENvbnRleHQAbmFtZXNwYWNlIjtzOjA6IiI7czo1NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xDb250ZXh0AG5hbWVzcGFjZUFsaWFzZXMiO2E6MDp7fX1zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGxvY2F0aW9uIjtOO3M6NTA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAaXNUZW1wbGF0ZVN0YXJ0IjtiOjA7czo0ODoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBpc1RlbXBsYXRlRW5kIjtiOjA7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";